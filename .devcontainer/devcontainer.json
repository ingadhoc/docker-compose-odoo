{
  "name": "Odoo Adhoc",
  "dockerComposeFile": ["../docker-compose.yml"],
  "service": "odoo",
  // "workspaceFolder": "/workspace",
  "workspaceFolder": "/home/odoo",
  "mounts": [
    {
      "source": "${localWorkspaceFolder}/.devcontainer/scripts", "target": "/scripts", "type": "bind"
    },
    {
      "source": "${localWorkspaceFolder}/.devcontainer/.vscode", "target": "/home/odoo/.vscode", "type": "bind"
    },
    {
      "source": "${localWorkspaceFolder}/odools.toml", "target": "/home/odoo/odools.toml", "type": "bind"
    }
  ],  

  // Features to add to the dev container. More info: https://containers.dev/features.
  // "features": {},

  "shutdownAction": "stopCompose",
  "postCreateCommand": "/scripts/poststart.sh > /tmp/postCreateCommand.log 2>&1",
  "onCreateCommand": "/scripts/oncreate.sh > /tmp/onCreateCommand.log 2>&1",
  "remoteEnv": {
    "PATH": "${containerEnv:PATH}:/scripts/user",
    "AD_DEV_MODE": "NORMAL"
  },

  // Configure tool-specific properties.
  "customizations": {
    "vscode": {
      "remoteUser": "odoo",
      "settings":{
        "files.insertFinalNewline": true,
        "terminal.integrated.cwd": "/home/odoo",
        "remote.autoForwardPorts": false,
        // Ignore files in src directory the workspace
        "files.watcherExclude": {
          "/home/odoo/src/**" : true
        },
        "files.exclude": {
          ".bash_aliases": true,
          ".bash_logout": true,
          ".bashrc": true,
          ".cache": true,
          ".config": true,
          ".devcontainer": true,
          ".dotnet": true,
          ".gitconfig": true,
          ".local": true,
          ".profile": true,
          ".resources": true,
          ".ssh": true,
          ".vscode-server": true,
          ".bash_history": true,
          ".npm": true,
          ".ipython": true,
          "ODOO_BY_ADHOC_VERSION": true,
          "data": true,
          "venv": true
        },
        "search.exclude":{
			    ".devcontainer": true,
          "dockerfiles": true,
          // ".vscode": true,
          ".github": true
        },
        "python.languageServer": "None",
        // Python Defaults
        "python.defaultInterpreterPath": "/home/odoo/venv/bin/python",
        "python.terminal.activateEnvironment": false,
        // Linting (ruff)
        "python.linting.enabled": true,
        "python.linting.ruffEnabled": true,
        // Default Ruff config
        "ruff.exclude": [
          "/home/odoo/src/**"
        ],
        "editor.defaultFormatter": "charliermarsh.ruff",
        "editor.formatOnSave": true,
        "editor.codeActionsOnSave": {
          "source.fixAll": "explicit",
          "source.organizeImports": "explicit"
        },

        // Spell check
        "cSpell.diagnosticLevel": "Hint",
        "cSpell.diagnosticLevelFlaggedWords":   "Hint",
        // Trailing spaces
        "trailing-spaces.highlightCurrentLine": true,
        "trailing-spaces.syntaxIgnore": ["markdown"],
        // Debugger
        "debug.toolBarLocation": "commandCenter",
        "debug.openDebug": "neverOpen",
        "debug.internalConsoleOptions": "neverOpen",
        "debug.openExplorerOnEnd": true,
        "debug.allowBreakpointsEverywhere": true,
        "debug.hideLauncherWhileDebugging": true,
        "debugpy.showPythonInlineValues": true,
        // "debugpy.debugJustMyCode": false # We don't want this
        // Auto Docstring
        "autoDocstring.guessTypes": true,
        "autoDocstring.docstringFormat": "google",
        "autoDocstring.generateDocstringOnEnter": true,
        // Odoo
        "Odoo.selectedProfile": "Odoo by Adhoc",
        "extensions.ignoreRecommendations": true
      },
      //Extensions "ms-vscode-remote.vscode-remote-extensionpack"
      "extensions": [
        "ms-python.python",
        "ms-python.debugpy",
        "charliermarsh.ruff",
        "eamodio.gitlens",
        "usernamehw.errorlens",
        "ms-vsliveshare.vsliveshare",
        "shardulm94.trailing-spaces",
        "streetsidesoftware.code-spell-checker",
        "njpwerner.autodocstring",
        "mechatroner.rainbow-csv",
        "Odoo.odoo"
      ]
    }
  }
}
